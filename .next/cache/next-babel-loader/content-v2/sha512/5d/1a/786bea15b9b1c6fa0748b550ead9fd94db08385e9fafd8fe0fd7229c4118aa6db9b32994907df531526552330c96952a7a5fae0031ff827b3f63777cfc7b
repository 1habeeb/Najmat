{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useContext, createContext } from \"react\";\nimport nookies from \"nookies\";\nimport firebaseClient from \"./firebaseClient\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nconst AuthContext = /*#__PURE__*/createContext({});\nexport const AuthProvider = ({\n  children\n}) => {\n  firebaseClient();\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  useEffect(() => {\n    return firebase.auth().onIdTokenChanged(async user => {\n      if (!user) {\n        setUser(null);\n        nookies.set(undefined, \"token\", \"\", {});\n        return;\n      }\n\n      const token = await user.getIdToken();\n      setUser(user);\n      nookies.set(undefined, \"token\", token, {});\n    });\n  }, []);\n  return __jsx(AuthContext.Provider, {\n    value: {\n      user\n    }\n  });\n};\nexport const useAuth = () => useContext(AuthContext);","map":null,"metadata":{},"sourceType":"module"}